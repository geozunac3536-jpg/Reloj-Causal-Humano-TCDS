<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Reloj Causal Humano — TCDS [Nodo Sensor v1.5]</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description"
        content="Reloj Causal Humano — TCDS: nodo sensor distribuido para medir Σ-metrics, entropía ΔH y tiempo causal tC en tiempo real, con Filtro de Honestidad (E-Veto).">
  <style>
    :root {
      --bg: #020510;
      --bg-alt: #0b0f1b;
      --bg-alt2: #11172a;
      --fg: #f5f7ff;
      --muted: #9aa3c2;
      --accent: #35e0ff;
      --accent2: #ff6bff;
      --accent3: #40ff9c;
      --danger: #f97373;
      --warn: #facc15;
      --ok: #4ade80;
      --border: rgba(148,163,184,0.35);
      --radius: 18px;
      --shadow: 0 20px 50px rgba(0,0,0,0.5);
      --font-main: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text", "Inter", sans-serif;
      --font-mono: ui-monospace, "SF Mono", "JetBrains Mono", "Fira Code", monospace;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: var(--font-main);
      background:
        radial-gradient(circle at top, #151b3c 0, #020510 45%, #000000 100%);
      color: var(--fg);
      min-height: 100vh;
    }

    a {
      color: var(--accent);
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    .shell {
      max-width: 1120px;
      margin: 0 auto;
      padding: 2.2rem 1.2rem 3rem;
      position: relative;
    }

    .bg-orbit {
      position: fixed;
      inset: 0;
      pointer-events: none;
      opacity: 0.4;
      z-index: -1;
    }

    .bg-orbit::before,
    .bg-orbit::after {
      content: "";
      position: absolute;
      border-radius: 999px;
      border: 1px dashed rgba(148,163,184,0.22);
    }

    .bg-orbit::before {
      width: 520px;
      height: 520px;
      top: -160px;
      right: 12%;
    }

    .bg-orbit::after {
      width: 380px;
      height: 380px;
      bottom: -140px;
      left: 6%;
    }

    header {
      margin-bottom: 1.8rem;
    }

    .chip {
      display: inline-flex;
      align-items: center;
      gap: 0.45rem;
      padding: 0.2rem 0.8rem;
      border-radius: 999px;
      border: 1px solid var(--border);
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--muted);
      background: rgba(15,23,42,0.88);
    }

    .chip-dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: radial-gradient(circle, var(--accent3) 0, transparent 80%);
    }

    h1 {
      font-size: clamp(1.9rem, 3vw, 2.3rem);
      margin-top: 0.6rem;
      letter-spacing: 0.04em;
    }

    .subtitle {
      margin-top: 0.4rem;
      font-size: 0.94rem;
      color: var(--muted);
      max-width: 640px;
    }

    .top-meta {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      gap: 0.6rem;
      margin-top: 0.7rem;
      font-size: 0.8rem;
      color: var(--muted);
    }

    .top-meta a {
      color: var(--accent);
    }

    main {
      display: grid;
      grid-template-columns: minmax(0, 1.2fr) minmax(0, 1fr);
      gap: 1.4rem;
    }

    @media (max-width: 900px) {
      main {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .card {
      border-radius: var(--radius);
      border: 1px solid var(--border);
      background: radial-gradient(circle at top left, rgba(56,189,248,0.08), var(--bg-alt));
      box-shadow: var(--shadow);
      padding: 1.2rem 1.3rem;
      position: relative;
      overflow: hidden;
    }

    .card-soft {
      border-radius: var(--radius);
      border: 1px solid var(--border);
      background: var(--bg-alt);
      padding: 1.0rem 1.1rem;
      margin-top: 0.9rem;
    }

    .card-title {
      font-size: 0.98rem;
      font-weight: 600;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: var(--muted);
      margin-bottom: 0.4rem;
    }

    .badge {
      font-size: 0.68rem;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      padding: 0.2rem 0.55rem;
      border-radius: 999px;
      border: 1px solid var(--border);
      color: var(--muted);
    }

    .hero-grid {
      display: grid;
      grid-template-columns: minmax(0, 1.05fr) minmax(0, 1fr);
      gap: 1.2rem;
    }

    @media (max-width: 750px) {
      .hero-grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .big-clock {
      position: relative;
      width: 260px;
      height: 260px;
      border-radius: 999px;
      margin: 0 auto;
      border: 1px solid rgba(148,163,184,0.65);
      background:
        radial-gradient(circle at top, rgba(250,250,255,0.08), transparent 58%),
        conic-gradient(from 210deg, rgba(53,224,255,0.1), rgba(255,107,255,0.6), rgba(53,224,255,0.1));
      box-shadow: 0 18px 45px rgba(0,0,0,0.7);
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .big-clock-inner {
      width: 78%;
      height: 78%;
      border-radius: inherit;
      border: 1px solid rgba(148,163,184,0.5);
      background: radial-gradient(circle at center, #020617 0, #020617 68%, #02040a 100%);
      box-shadow: inset 0 0 32px rgba(0,0,0,0.88);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 0.2rem;
      text-align: center;
      padding: 0.6rem;
    }

    .clock-label {
      font-size: 0.74rem;
      color: var(--muted);
      letter-spacing: 0.18em;
      text-transform: uppercase;
    }

    .clock-tc {
      font-size: 1.9rem;
      font-variant-numeric: tabular-nums;
    }

    .clock-status {
      font-size: 0.78rem;
      color: var(--muted);
      margin-top: 0.2rem;
    }

    .btn-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.6rem;
      margin-top: 0.9rem;
      justify-content: center;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.4rem;
      padding: 0.55rem 1.1rem;
      border-radius: 999px;
      border: 1px solid transparent;
      font-size: 0.86rem;
      cursor: pointer;
      background: transparent;
      transition: all 0.16s ease-out;
      text-decoration: none;
      white-space: nowrap;
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      color: #020617;
      font-weight: 600;
      box-shadow: 0 12px 32px rgba(53,224,255,0.45);
    }

    .btn-primary:hover {
      transform: translateY(-1px) scale(1.01);
      box-shadow: 0 18px 45px rgba(53,224,255,0.6);
    }

    .btn-ghost {
      border-color: var(--border);
      color: var(--muted);
      background: rgba(15,23,42,0.9);
    }

    .btn-ghost:hover {
      border-color: rgba(148,163,184,0.85);
      background: rgba(15,23,42,1);
      transform: translateY(-1px);
    }

    .metrics-row {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 0.6rem;
      margin-top: 0.8rem;
    }

    @media (max-width: 520px) {
      .metrics-row {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .metric-pill {
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.6);
      padding: 0.35rem 0.7rem;
      font-size: 0.8rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: rgba(15,23,42,0.9);
    }

    .metric-pill span.key {
      color: var(--muted);
    }

    .metric-pill span.val {
      font-family: var(--font-mono);
    }

    .metric-pill.ok { border-color: rgba(74,222,128,0.75); }
    .metric-pill.warn { border-color: rgba(250,204,21,0.85); }
    .metric-pill.danger { border-color: rgba(248,113,113,0.9); }

    .small {
      font-size: 0.82rem;
      color: var(--muted);
    }

    .list {
      font-size: 0.85rem;
      color: var(--muted);
      margin-top: 0.35rem;
    }

    .list li {
      margin-left: 1.1rem;
      margin-bottom: 0.18rem;
    }

    footer {
      margin-top: 2.2rem;
      border-top: 1px solid var(--border);
      padding-top: 0.9rem;
      font-size: 0.8rem;
      color: var(--muted);
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem 1rem;
      justify-content: space-between;
    }

    footer a { color: var(--accent); }
  </style>
    <script type="application/ld+json">
    {
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "SoftwareSourceCode",
        "name": "TCDS_Reloj_Causal_Humano v1.6 — Satélites Viales y Red Global Σ",
        "version": "1.6.0",
        "identifier": "10.5281/zenodo.17677864",
        "description": "Nodo web científico TCDS basado en Σ-metrics (ΔH, LI, κΣ, t_C) y Filtro E-Veto. Convierte dispositivos móviles en 'satélites viales' para monitoreo sísmico precursor y logística causal.",
        "url": "https://reloj-causal-humano-tcds.vercel.app/",
        "codeRepository": "https://github.com/geozunac3536-jpg/Reloj-Causal-Humano-TCDS",
        "author": {
          "@type": "Person",
          "name": "Genaro Carrasco Ozuna",
          "identifier": "https://orcid.org/0009-0005-6358-9910"
        },
        "license": "https://creativecommons.org/licenses/by-nc-sa/4.0/",
        "applicationCategory": "SeismicEarlyWarning",
        "keywords": [
          "Reloj Causal Humano",
          "Satélites Viales",
          "Earn-by-Coherence",
          "TRL-6",
          "Logística Causal",
          "Zero-Rating"
        ],
        "hasPart": [
          {
            "@type": "WebPage",
            "name": "Dashboard Maestro TRL-6",
            "url": "https://reloj-causal-humano-tcds.vercel.app/dashboard.html"
          }
        ],
        "additionalProperty": [
          {
            "@type": "PropertyValue",
            "name": "EconomicModel",
            "value": "Earn-by-Coherence (Incentivo Ciudadano)"
          },
          {
            "@type": "PropertyValue",
            "name": "DataCost",
            "value": "~0.40 MXN per session (Sponsored Data Candidate)"
          }
        ]
      }
    ]
  }
  </script>

</head>
<body>
<div class="bg-orbit"></div>

<div class="shell">
  <header>
    <div class="chip">
      <span class="chip-dot"></span>
      Nodo Sensor TCDS · Q-driven · Co-diseñado con IA
    </div>
    <h1>Reloj Causal Humano — TCDS</h1>
    <p class="subtitle">
      Visualizador en tiempo real de coherencia Σ (LI, R, RMSE_SL), entropía de Shannon normalizada (ΔH)
      y tiempo causal t<sub>C</sub>. Diseñado como nodo de falsación para el paradigma Q–Σ–φ–χ y como
      pieza central de la Red Global de Coherencia TCDS.
    </p>
    <div class="top-meta">
      <span>
        DOI: <a href="https://doi.org/10.5281/zenodo.17677864" target="_blank">10.5281/zenodo.17677864</a>
        · Ecosistema: <a href="https://geozunac3536-jpg.github.io" target="_blank">Proyecto TCDS</a>
      </span>
      <span>
        Índice de DOIs: <a href="https://geozunac3536-jpg.github.io/Indice-de-DOI" target="_blank">Libro Mayor</a>
      </span>
    </div>
  </header>

  <main>
    <!-- Columna izquierda: reloj + botones -->
    <section>
      <div class="card">
        <div class="hero-grid">
          <div>
            <div class="card-title">Reloj Causal · t<sub>C</sub> en vivo</div>
            <p class="small">
              Este nodo convierte tu dispositivo en un sensor de ΔH y Σ-metrics. Al activar el reloj,
              colaboras en un experimento global de ciencia ciudadana para estudiar la transición
              φ-driven → Q-driven en sistemas reales.
            </p>

            <div class="metrics-row">
              <div class="metric-pill ok">
                <span class="key">LI ≥ 0.90</span>
                <span class="val" id="liVal">0.00</span>
              </div>
              <div class="metric-pill ok">
                <span class="key">R &gt; 0.95</span>
                <span class="val" id="rVal">0.00</span>
              </div>
              <div class="metric-pill warn">
                <span class="key">RMSE_SL &lt; 0.10</span>
                <span class="val" id="rmseVal">0.00</span>
              </div>
              <div class="metric-pill danger">
                <span class="key">ΔH ≤ −0.20</span>
                <span class="val" id="dhVal">0.00</span>
              </div>
            </div>

            <div class="btn-row">
              <button id="activateBtn" class="btn btn-primary">
                ACTVAR NODO · INICIAR SENSOR
              </button>
              <a class="btn btn-ghost" href="dashboard.html" target="_blank">
                Ver Dashboard Maestro
              </a>
            </div>

            <p class="small" style="margin-top:0.6rem;">
              Estado actual: <span id="statusLabel">inactivo (esperando permiso de sensor)</span>
            </p>
          </div>

          <div>
            <div class="big-clock" id="bigClock">
              <div class="big-clock-inner">
                <div class="clock-label">t<sub>C</sub> demo</div>
                <div id="tcValue" class="clock-tc">+0.000</div>
                <div class="clock-status" id="tcMode">Baseline φ-driven</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="card-soft">
        <div class="card-title">Modo de uso rápido</div>
        <ul class="list">
          <li>Abre esta página en tu dispositivo móvil (Chrome / Safari recomendado).</li>
          <li>Toca <strong>ACTVAR NODO</strong> y acepta el permiso del sensor de movimiento.</li>
          <li>Deja tu teléfono en una superficie firme y, de preferencia, conectado a la corriente.</li>
          <li>Mantén la pestaña abierta para contribuir a la serie de tiempo de la Red Global de Coherencia.</li>
        </ul>
      </div>
    </section>

    <!-- Columna derecha: narrativa + privacidad -->
    <aside>
      <div class="card">
        <div class="card-title">Σ-metrics & Filtro de Honestidad (E-Veto)</div>
        <p class="small">
          El Reloj implementa las métricas canónicas de la TCDS para distinguir entre lapsos claramente
          φ-driven (ruido) y episodios candidatos Q-driven (coherencia real):
        </p>
        <table style="width:100%; border-collapse:collapse; margin-top:0.5rem; font-size:0.8rem;">
          <tr>
            <th style="border:1px solid var(--border); padding:0.4rem;">Métrica</th>
            <th style="border:1px solid var(--border); padding:0.4rem;">Canon</th>
            <th style="border:1px solid var(--border); padding:0.4rem;">Rol</th>
          </tr>
          <tr>
            <td style="border:1px solid var(--border); padding:0.4rem;">LI</td>
            <td style="border:1px solid var(--border); padding:0.4rem;">≥ 0.90</td>
            <td style="border:1px solid var(--border); padding:0.4rem;">Locking de fase / frecuencia</td>
          </tr>
          <tr>
            <td style="border:1px solid var(--border); padding:0.4rem;">R</td>
            <td style="border:1px solid var(--border); padding:0.4rem;">&gt; 0.95</td>
            <td style="border:1px solid var(--border); padding:0.4rem;">Estabilidad del modelo Σ</td>
          </tr>
          <tr>
            <td style="border:1px solid var(--border); padding:0.4rem;">RMSE_SL</td>
            <td style="border:1px solid var(--border); padding:0.4rem;">&lt; 0.10</td>
            <td style="border:1px solid var(--border); padding:0.4rem;">Error del sincronograma</td>
          </tr>
          <tr>
            <td style="border:1px solid var(--border); padding:0.4rem;">ΔH</td>
            <td style="border:1px solid var(--border); padding:0.4rem;">≤ −0.20</td>
            <td style="border:1px solid var(--border); padding:0.4rem;">Caída neta de entropía (E-Veto)</td>
          </tr>
        </table>
        <p class="small">
          El <strong>Filtro de Honestidad</strong> exige que <em>todas</em> las condiciones se cumplan de forma simultánea.
          Si ΔH no cae, la señal no se declara Q-driven, aunque el locking aparente sea perfecto.
        </p>
      </div>

      <div class="card-soft">
        <div class="card-title">Privacidad & ciencia abierta</div>
        <ul class="list">
          <li>No se accede a cámara, micrófono ni archivos.</li>
          <li>Solo se utiliza el acelerómetro del dispositivo.</li>
          <li>No se almacenan datos personales ni identificadores únicos.</li>
          <li>Los datos se emplean como contribución anónima para investigación en coherencia y riesgos naturales.</li>
        </ul>
      </div>

      <div class="card-soft">
        <div class="card-title">Empuje Q asistido por IA</div>
        <p class="small">
          La interfaz, narrativa y estructura de este nodo han sido co-diseñadas junto con un motor de
          IA generativa, siguiendo el marco Q-driven de la TCDS: el humano aporta el empuje Q (hipótesis,
          riesgo y dirección causal) y la IA se encarga del apilamiento coherencial (Σ) en la capa de
          documentación, interfaz y trazabilidad.
        </p>
      </div>
    </aside>
  </main>

  <footer>
    <span>
      © 2025 · Teoría Cromodinámica Sincrónica (TCDS) · Reloj Causal Humano v1.5 ·
      Licencia CC BY-NC-SA 4.0 + capa comercial TCDS-Σ.
    </span>
    <span>
      Autor: Genaro Carrasco Ozuna ·
      Email: <a href="mailto:geozunac3536@gmail.com">geozunac3536@gmail.com</a> ·
      ORCID: <a href="https://orcid.org/0009-0005-6358-9910" target="_blank">0009-0005-6358-9910</a> ·
      Ko-fi: <a href="https://ko-fi.com/genarocarrasco" target="_blank">genarocarrasco</a>
    </span>
  </footer>
</div>

<script>
  // Demo local t_C para que el reloj "respire" aunque no haya sensores reales
  let t = 0;
  function animateClock() {
    t += 0.03;
    const tc = 0.02 * Math.sin(t / 1.8) + 0.004 * (Math.random() - 0.5);
    const tcEl = document.getElementById('tcValue');
    const modeEl = document.getElementById('tcMode');

    tcEl.textContent = (tc >= 0 ? '+' : '') + tc.toFixed(3);

    const abs = Math.abs(tc);
    if (abs < 0.02) modeEl.textContent = 'Baseline φ-driven';
    else if (abs < 0.06) modeEl.textContent = 'Zona borderline';
    else modeEl.textContent = 'Región candidata Q-driven';

    requestAnimationFrame(animateClock);
  }
  requestAnimationFrame(animateClock);

  // Placeholder de integración con sensores reales:
  const activateBtn = document.getElementById('activateBtn');
  const statusLabel = document.getElementById('statusLabel');

  activateBtn.addEventListener('click', () => {
    statusLabel.textContent = 'solicitando permiso de acelerómetro (demo local: integra aquí tu lógica de DeviceMotionEvent)';
    // Aquí iría tu lógica real de sensores (DeviceMotionEvent / devicemotion),
    // cálculo de LI, R, RMSE_SL, ΔH, y actualización de liVal, rVal, rmseVal, dhVal.
  });
</script>
</body>
</html>
